# üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ 1strag

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
PDF –∫–Ω–∏–≥–∞ ‚Üí PyPDFLoader ‚Üí RecursiveCharacterTextSplitter (1500/300) 
         ‚Üí HuggingFace Embeddings (E5-base) ‚Üí FAISS index

–í–æ–ø—Ä–æ—Å ‚Üí Embedding ‚Üí FAISS retriever (TOP_K=8) ‚Üí LLM (qwen2.5:14b) ‚Üí –û—Ç–≤–µ—Ç
```

## –°—Ç–µ–∫
- **UI**: Streamlit
- **RAG**: LangChain (retriever + LLM –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ RetrievalQA chain)
- **Vector DB**: FAISS
- **Embeddings**: intfloat/multilingual-e5-base
- **LLM**: Ollama + qwen2.5:14b (–ª–æ–∫–∞–ª—å–Ω–æ)
- **Chunking**: RecursiveCharacterTextSplitter (chunk_size=1500, overlap=300)

## –î–∞–Ω–Ω—ã–µ
–ö–Ω–∏–≥–∞ "–ì–µ—Ä–∞—Å–∏–º–µ–Ω–∫–æ –ê. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –¥–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π" (440 —Å—Ç—Ä, ~800 —á–∞–Ω–∫–æ–≤)

---

# üî¥ –ü—Ä–æ–±–ª–µ–º–∞

**–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** "–ö–∞–∫–∏–µ –≤–∏–¥—ã –ø—Ä–∏–±—ã–ª–∏ –µ—Å—Ç—å?"

**–≠—Ç–∞–ª–æ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç (–µ—Å—Ç—å –≤ –∫–Ω–∏–≥–µ):**
- –í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å (Gross Profit)
- –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å (Operating Profit)  
- –ü—Ä–∏–±—ã–ª—å –¥–æ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è (PBT)
- –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å (Net Income)
- EBITDA
- –ù–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç RAG:** 3-4 –≤–∏–¥–∞ –∏–∑ 6, —Å –æ—à–∏–±–∫–∞–º–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏.

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** Retriever –ù–ê–•–û–î–ò–¢ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —á–∞–Ω–∫ (—Å—Ç—Ä.44-45 —Å —Ç–∞–±–ª–∏—Ü–µ–π P&L), –Ω–æ LLM –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –í–°–Æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –Ω–µ–≥–æ.

---

# üîß –ß—Ç–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

| –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----------|-----------|
| TOP_K: 4 ‚Üí 8 | –ë–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –Ω–æ –±–æ–ª—å—à–µ —à—É–º–∞ |
| chunk_size: 1000 ‚Üí 1500, overlap: 200 ‚Üí 300 | –¢–∞–±–ª–∏—Ü—ã –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Ä–∞–∑—Ä—ã–≤–∞—Ç—å—Å—è |
| Embeddings: MiniLM ‚Üí E5-base | –õ—É—á—à–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä—É—Å—Å–∫–∏–µ —Å–∏–Ω–æ–Ω–∏–º—ã |
| LLM: llama3 ‚Üí qwen2.5:14b | –ú–µ–Ω—å—à–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π, –ª—É—á—à–µ —Ä—É—Å—Å–∫–∏–π |
| –ü—Ä–æ–º–ø—Ç: 10 –ø—Ä–∞–≤–∏–ª ‚Üí CoT (3 —à–∞–≥–∞) | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ |
| –ù—É–º–µ—Ä–∞—Ü–∏—è: "–§—Ä–∞–≥–º–µ–Ω—Ç X –∏–∑ Y" | LLM –∑–Ω–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å |
| –ü–æ—Ä—è–¥–æ–∫: —Å–∞–º—ã–π —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –≤ –∫–æ–Ω–µ—Ü | Recency bias ‚Äî LLM –ª—É—á—à–µ –ø–æ–º–Ω–∏—Ç –∫–æ–Ω–µ—Ü |

**–ë—ã–ª–æ:** 2.5/5 (–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏, –ø—É—Ç–∞–Ω–∏—Ü–∞ —Ç–µ—Ä–º–∏–Ω–æ–≤)
**–°—Ç–∞–ª–æ:** 3.5/5 (–±–µ–∑ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π, –Ω–æ –Ω–µ–ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç)

---

# üéØ –¢–µ–∫—É—â–∏–µ –≥–∏–ø–æ—Ç–µ–∑—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

1. **SemanticChunker** –≤–º–µ—Å—Ç–æ RecursiveCharacterTextSplitter ‚Äî —á–∞–Ω–∫–∏ –ø–æ —Å–º—ã—Å–ª—É, –Ω–µ –ø–æ —Å–∏–º–≤–æ–ª–∞–º
2. **Parent-Child Chunking** ‚Äî –ø–æ–∏—Å–∫ –ø–æ –º–µ–ª–∫–∏–º, –æ—Ç–≤–µ—Ç –ø–æ –∫—Ä—É–ø–Ω—ã–º —á–∞–Ω–∫–∞–º  
3. **Query Expansion** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ —Å–∏–Ω–æ–Ω–∏–º–∞–º–∏ –ø–µ—Ä–µ–¥ –ø–æ–∏—Å–∫–æ–º
4. **Reranking** ‚Äî LLM –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä—É–µ—Ç —á–∞–Ω–∫–∏ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –æ—Ç–∫–ª—é—á–µ–Ω–æ)
5. **–î—Ä—É–≥–æ–π LLM** ‚Äî –±–æ–ª–µ–µ –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è extraction

---

# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```
app.py (570 —Å—Ç—Ä–æ–∫) ‚Äî UI + RAG pipeline
rag_setup.py (215 —Å—Ç—Ä–æ–∫) ‚Äî —Å–±–æ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞
rag_index/ ‚Äî FAISS + config.json
books/ ‚Äî PDF —Ñ–∞–π–ª—ã
```

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `format_context(docs)` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —á–∞–Ω–∫–∏ —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π
- `ask_question(retriever, llm, question, messages)` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π pipeline
- `build_prompt(context, question)` ‚Äî —Å–æ–±–∏—Ä–∞–µ—Ç CoT –ø—Ä–æ–º–ø—Ç

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ–º–ø—Ç:**
```
–®–ê–ì 1 ‚Äî –ò–ó–í–õ–ï–ß–ï–ù–ò–ï: –ù–∞–π–¥–∏ —Ç–µ—Ä–º–∏–Ω—ã, –ø—Ä–∏–Ω—Ü–∏–ø—ã, —Ñ–æ—Ä–º—É–ª—ã, –ø—Ä–∏–º–µ—Ä—ã, —á–∏—Å–ª–∞
–®–ê–ì 2 ‚Äî –ê–ù–ê–õ–ò–ó: –ö–∞–∫ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å
–®–ê–ì 3 ‚Äî –°–ò–ù–¢–ï–ó: –û–±—ä–µ–¥–∏–Ω–∏ –≤ –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç
```

---

# ‚ùì –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏

1. –ö–∞–∫ —É–ª—É—á—à–∏—Ç—å extraction –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤?
2. –ö–∞–∫–æ–π chunking strategy –ª—É—á—à–µ –¥–ª—è –∫–Ω–∏–≥ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏?
3. –°—Ç–æ–∏—Ç –ª–∏ –¥–µ–ª–∞—Ç—å multi-step RAG (retrieve ‚Üí extract ‚Üí answer)?
4. –ö–∞–∫ –±–æ—Ä–æ—Ç—å—Å—è —Å "–ø–æ—Ç–µ—Ä–µ–π" –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –¥–ª–∏–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞?
